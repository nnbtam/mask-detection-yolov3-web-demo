<!DOCTYPE html>

<html>
    <head>
        <title>Demo Yolov3</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="/static/css/detect_mask.css">
        
         
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    </head>
    <body>
        <div id="banner">
            <div id="menu">
                    <div class="container">
                        <div class="row">
                            <!-- <ul>
                                <li class="selected">Inference on Mask detection dataset</li>
                            </ul> -->
                        </div>
                    </div>
                </div>
            <div class="container text-center">
                <h1>Video Mask Detection</h1>
                <h3>Upload a video for mask detection!</h3>
            </div>
        </div>
        
        <div class="container">
            <div class="row">
                <form action="{{ url_for('home') }}" >
                    <input type="image" id="btn_back" class="btn_back" src="../static/img/back.png" style="width:30px; height: 30px; margin-top: 5px;"/>
                </form>
                <div class="col-sm-12 text-center">
                    <form action="{{ url_for('detect_video_result') }}" method="POST" enctype="multipart/form-data" >
                        <div style="display: none">
                            <input type="file" id="upload-file" name="file" accept=".mp4">
                            <input type="submit" id="submit-button" value="Upload">
                        </div>
                        <div class="column">

                          <video controls>
                            <source src="{{ url_for('static', filename='videos/' + upload_vid) }}" type="video/mp4">
                            Your browser does not support the video tag.
                          </video>
                            
                        </div>
            
                        <div class="column">
                          <video controls>
                            <source id = "reload" src="{{ url_for('static', filename='videos/' + output_vid) }}" type="video/mp4">
                            Your browser does not support the video tag.
                          </video>
                        </div>
            
                        <input type="button" id="upload-button" class="btn" value="Upload Photo">
                        
                    </form>

                
                </div>
            </div>
        </div>
        
    </body>
    <script type="text/javascript">
        $(function() {
            // if upload-button is clicked ==> call upload-file func

            $("#upload-button").click(function() {
                $("#upload-file").click();
            });

            // if upload file is clicked ==> submit button to show the image
            $("#upload-file").change(function() {
                $("#submit-button").click();
            });

            
        });
        $("#reload").load(location.href + " #reload>*", "");
    </script>
</html> 




